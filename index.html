<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Wedding Countdown Timer</title>
    <style>
      body {
        font-family: "Times New Roman", serif;
        display: flex;
        justify-content: center;
        align-items: center;
        height: 100vh;
        margin: 0;
        background: transparent; /* so it blends in Notion */
      }

      .countdown-widget {
        background: #fffaf0;
        border: 1px solid #e3b5bd;
        padding: 12px 18px;
        border-radius: 12px;
        box-shadow: 0 4px 12px rgba(0, 0, 0, 0.1);
        text-align: center;
        min-width: 450px;
      }

      h1 {
        font-size: 1.6em;
        color: #ac757e;
        margin-bottom: 12px;
      }

      input[type="datetime-local"] {
        font-family: "Times New Roman", serif;
        padding: 10px 14px;
        border: 1px solid #ac757e;
        background-color: #fff;
        border-radius: 8px;
        margin-bottom: 12px;
        width: 100%; /* full width */
        max-width: 320px; /* keeps it from being TOO wide */
        font-size: 1em;
        display: block;
        margin-left: auto;
        margin-right: auto; /* ensures centering */
        box-sizing: border-box;
      }

      button {
        font-family: "Times New Roman", serif;
        padding: 6px 14px;
        color: #fffaf0;
        background-color: #ac757e;
        border: none;
        border-radius: 8px;
        cursor: pointer;
        font-size: 0.85em;
        margin-bottom: 8px;
        transition: all 0.3s ease;
      }

      button:hover {
        background-color: #fffaf0;
        color: #ac757e;
        border: 1px solid #ac757e;
      }

      #change-date {
        display: none;
        background: transparent;
        color: #ac757e;
        border: none;
        font-size: 0.75em;
        margin-top: 5px;
        opacity: 0.6;
        cursor: pointer;
      }

      #change-date:hover {
        opacity: 1;
        text-decoration: underline;
      }

      .countdown-result {
        display: flex;
        justify-content: center;
        gap: 12px;
        margin-top: 12px;
        font-size: 1.2em;
      }

      .time-box {
        display: flex;
        flex-direction: column;
        align-items: center;
        min-width: 70px;
        background: #ffffff;
        border: 1px solid #e3b5bd;
        border-radius: 8px;
        padding: 8px;
        box-shadow: inset 0 1px 3px rgba(0, 0, 0, 0.05);
      }

      .number {
        font-weight: bold;
        font-size: 1.4em;
        color: #ac757e;
        transition: transform 0.3s ease;
      }

      .label {
        font-size: 0.65em;
        color: #6b4c54;
        margin-top: 3px;
      }

      .big-day {
        font-size: 1.4em;
        font-weight: bold;
        color: #ac757e;
        animation: pop 1s infinite alternate;
      }

      @keyframes pop {
        from {
          transform: scale(1);
        }
        to {
          transform: scale(1.1);
        }
      }
    </style>
  </head>

  <body>
    <div class="countdown-widget">
      <h1>Wedding Countdown</h1>
      <input type="datetime-local" id="date-input" />
      <button id="start-countdown">Start</button>
      <div class="countdown-result" id="countdown"></div>
      <button id="change-date">Change Date</button>
    </div>

    <script>
      document.addEventListener("DOMContentLoaded", function () {
        const dateInput = document.getElementById("date-input");
        const countdownResult = document.getElementById("countdown");
        const startBtn = document.getElementById("start-countdown");
        const changeBtn = document.getElementById("change-date");
        let updateCountdown;

        const savedDate = localStorage.getItem("weddingDate");
        if (savedDate) {
          dateInput.value = savedDate;
          startCountdown();
          hideInputAndButton();
        }

        startBtn.addEventListener("click", function () {
          const enteredDate = dateInput.value;
          if (!enteredDate) {
            alert("Please select a valid date and time.");
            return;
          }
          localStorage.setItem("weddingDate", enteredDate);
          startCountdown();
          hideInputAndButton();
        });

        changeBtn.addEventListener("click", function () {
          dateInput.style.display = "block";
          startBtn.style.display = "inline-block";
          changeBtn.style.display = "none";
          countdownResult.innerHTML = "";
          clearInterval(updateCountdown);
        });

        function hideInputAndButton() {
          dateInput.style.display = "none";
          startBtn.style.display = "none";
          changeBtn.style.display = "inline-block";
        }

        function startCountdown() {
          if (updateCountdown) clearInterval(updateCountdown);

          const weddingDate = new Date(dateInput.value).getTime();

          updateCountdown = setInterval(function () {
            const currentTime = new Date().getTime();
            const timeDifference = weddingDate - currentTime;

            if (timeDifference <= 0) {
              clearInterval(updateCountdown);
              countdownResult.innerHTML =
                "<div class='big-day'>ðŸŽ‰ It's your big day! ðŸŽ‰</div>";
              return;
            }

            const months = Math.floor(
              timeDifference / (1000 * 60 * 60 * 24 * 30)
            );
            const days = Math.floor(
              (timeDifference % (1000 * 60 * 60 * 24 * 30)) /
                (1000 * 60 * 60 * 24)
            );
            const hours = Math.floor(
              (timeDifference % (1000 * 60 * 60 * 24)) / (1000 * 60 * 60)
            );
            const minutes = Math.floor(
              (timeDifference % (1000 * 60 * 60)) / (1000 * 60)
            );
            const seconds = Math.floor((timeDifference % (1000 * 60)) / 1000);

            countdownResult.innerHTML = `
              <div class="time-box"><span class="number">${months}</span><span class="label">Months</span></div>
              <div class="time-box"><span class="number">${days}</span><span class="label">Days</span></div>
              <div class="time-box"><span class="number">${hours}</span><span class="label">Hours</span></div>
              <div class="time-box"><span class="number">${minutes}</span><span class="label">Minutes</span></div>
              <div class="time-box"><span class="number">${seconds}</span><span class="label">Seconds</span></div>
            `;

            // smooth animation
            const numbers = countdownResult.querySelectorAll(".number");
            numbers.forEach((num) => {
              num.style.transform = "scale(1.15)";
              setTimeout(() => (num.style.transform = "scale(1)"), 200);
            });
          }, 1000);
        }
      });
    </script>
  </body>
</html>





